const _0x126188=_0x3ff8;(function(_0x27a5b3,_0x55f3bf){const _0x4297a8=_0x3ff8,_0xaf34f0=_0x27a5b3();while(!![]){try{const _0x1da662=parseInt(_0x4297a8(0xe8))/0x1+parseInt(_0x4297a8(0x105))/0x2*(parseInt(_0x4297a8(0x117))/0x3)+parseInt(_0x4297a8(0xde))/0x4*(-parseInt(_0x4297a8(0xdc))/0x5)+-parseInt(_0x4297a8(0x125))/0x6+parseInt(_0x4297a8(0xf0))/0x7+-parseInt(_0x4297a8(0x110))/0x8*(parseInt(_0x4297a8(0xf7))/0x9)+parseInt(_0x4297a8(0x118))/0xa*(parseInt(_0x4297a8(0x12a))/0xb);if(_0x1da662===_0x55f3bf)break;else _0xaf34f0['push'](_0xaf34f0['shift']());}catch(_0x33f61d){_0xaf34f0['push'](_0xaf34f0['shift']());}}}(_0x568f,0x18d32));const _0x7fccde=(function(){let _0x2b176a=!![];return function(_0x4ee1ca,_0x3797ee){const _0x4a1dab=_0x2b176a?function(){const _0x3a6e74=_0x3ff8;if(_0x3797ee){const _0x181e0c=_0x3797ee[_0x3a6e74(0xfa)](_0x4ee1ca,arguments);return _0x3797ee=null,_0x181e0c;}}:function(){};return _0x2b176a=![],_0x4a1dab;};}()),_0x1b42f1=_0x7fccde(this,function(){const _0x8bc02b=_0x3ff8;return _0x1b42f1[_0x8bc02b(0x100)+'ng']()[_0x8bc02b(0x106)](_0x8bc02b(0xe2)+_0x8bc02b(0x11d))[_0x8bc02b(0x100)+'ng']()[_0x8bc02b(0x12e)+_0x8bc02b(0x10f)](_0x1b42f1)[_0x8bc02b(0x106)](_0x8bc02b(0xe2)+_0x8bc02b(0x11d));});_0x1b42f1();const FALLBACK_DB_BASE_URL=_0x126188(0xd1)+_0x126188(0xd6)+_0x126188(0xe5)+_0x126188(0x10d)+_0x126188(0x121)+_0x126188(0x10c)+_0x126188(0xed)+_0x126188(0x104)+_0x126188(0x129)+_0x126188(0x111)+_0x126188(0x103)+_0x126188(0xfd);function normalizeBaseUrl(_0x37271f){const _0x110da7=_0x126188;return String(_0x37271f||'')[_0x110da7(0x139)+'e'](/\/+$/,'');}function getDbBaseUrl(){const _0x43a092=_0x126188;return normalizeBaseUrl(window[_0x43a092(0xf9)+_0x43a092(0xee)+_0x43a092(0xf1)+'G']&&window[_0x43a092(0xf9)+_0x43a092(0xee)+_0x43a092(0xf1)+'G'][_0x43a092(0xfb)+_0x43a092(0xf2)]||FALLBACK_DB_BASE_URL);}function buildDbUrl(_0x5129cb,_0x260399){const _0x1b6322=_0x126188,_0x50bb97=getDbBaseUrl()+'/'+String(_0x5129cb||'')[_0x1b6322(0x139)+'e'](/^\/+/,'')[_0x1b6322(0x139)+'e'](/\.json$/,'')+_0x1b6322(0xea);if(!_0x260399)return _0x50bb97;const _0x2cb819=_0x50bb97[_0x1b6322(0xef)+'es']('?')?'&':'?';return''+_0x50bb97+_0x2cb819+_0x1b6322(0xf6)+encodeURIComponent(_0x260399);}async function fetchJson(_0x569fc5,_0x2ee252){const _0xb5c4c9=_0x126188,_0x476c3d=await fetch(_0x569fc5,{'headers':{'Content-Type':_0xb5c4c9(0xe1)+_0xb5c4c9(0x11c)+_0xb5c4c9(0xdf)},..._0x2ee252});if(!_0x476c3d['ok']){let _0x1a7671='';try{_0x1a7671=await _0x476c3d[_0xb5c4c9(0xff)]();}catch{}throw new Error(_0xb5c4c9(0xf3)+_0xb5c4c9(0x132)+_0xb5c4c9(0x101)+_0xb5c4c9(0x131)+'('+_0x476c3d[_0xb5c4c9(0xf8)]+_0xb5c4c9(0x102)+(_0x1a7671||_0x476c3d[_0xb5c4c9(0xf8)+_0xb5c4c9(0x11e)]));}const _0x5cbe46=await _0x476c3d[_0xb5c4c9(0xff)]();if(!_0x5cbe46)return null;try{return JSON[_0xb5c4c9(0x12f)](_0x5cbe46);}catch{return null;}}async function getIdToken(){const _0x5eddc9=_0x126188;try{if(!window[_0x5eddc9(0x116)+'se']||!firebase[_0x5eddc9(0xdb)])return null;const _0x3fae62=firebase[_0x5eddc9(0xdb)]()[_0x5eddc9(0xd0)+_0x5eddc9(0x137)];return _0x3fae62?await _0x3fae62[_0x5eddc9(0x107)+_0x5eddc9(0x123)]():null;}catch{return null;}}function coerceString(_0x26da7c){return null==_0x26da7c?'':String(_0x26da7c);}function mapResource(_0x48c10f,_0xd3fc82){const _0x22ea40=_0x126188,_0x3b333f=_0xd3fc82||{};return{'id':coerceString(_0x48c10f),'name':coerceString(_0x3b333f[_0x22ea40(0x115)]),'category':coerceString(_0x3b333f[_0x22ea40(0x11f)+'ry']||_0x22ea40(0xec))[_0x22ea40(0xf4)]()[_0x22ea40(0x12c)+_0x22ea40(0x10b)]()||_0x22ea40(0xec),'link':coerceString(_0x3b333f[_0x22ea40(0x113)]),'storagePath':coerceString(_0x3b333f[_0x22ea40(0xd7)+_0x22ea40(0x128)]||''),'fileName':coerceString(_0x3b333f[_0x22ea40(0x11b)+'me']||''),'fileSize':Number(_0x3b333f[_0x22ea40(0x134)+'ze']||0x0)||0x0,'description':coerceString(_0x3b333f[_0x22ea40(0xfc)+_0x22ea40(0x109)]||''),'createdAt':coerceString(_0x3b333f[_0x22ea40(0xcf)+_0x22ea40(0x10e)]||''),'updatedAt':coerceString(_0x3b333f[_0x22ea40(0xd2)+_0x22ea40(0x10e)]||'')};}async function listResources(){const _0x218bc3=_0x126188,_0x5d3e94=await getIdToken(),_0x4f59b6=await fetchJson(buildDbUrl(_0x218bc3(0x120)+_0x218bc3(0xd8),_0x5d3e94),{'method':_0x218bc3(0xd9)});return _0x4f59b6?Object[_0x218bc3(0xe9)+'s'](_0x4f59b6)[_0x218bc3(0x112)](([_0x446e2e,_0x126473])=>mapResource(_0x446e2e,_0x126473))[_0x218bc3(0xe7)](_0x4d3899=>_0x4d3899[_0x218bc3(0x115)]&&(_0x4d3899[_0x218bc3(0xd7)+_0x218bc3(0x128)]||_0x4d3899[_0x218bc3(0x113)])):[];}async function createResource(_0x57d2c9){const _0x333761=_0x126188,_0x573e10=await getIdToken(),_0x504b43={'name':coerceString(_0x57d2c9[_0x333761(0x115)])[_0x333761(0xf4)](),'category':coerceString(_0x57d2c9[_0x333761(0x11f)+'ry']||_0x333761(0xec))[_0x333761(0xf4)]()[_0x333761(0x12c)+_0x333761(0x10b)]()||_0x333761(0xec),'link':coerceString(_0x57d2c9[_0x333761(0x113)])[_0x333761(0xf4)](),'storagePath':coerceString(_0x57d2c9[_0x333761(0xd7)+_0x333761(0x128)]||'')[_0x333761(0xf4)](),'fileName':coerceString(_0x57d2c9[_0x333761(0x11b)+'me']||'')[_0x333761(0xf4)](),'fileSize':Number(_0x57d2c9[_0x333761(0x134)+'ze']||0x0)||0x0,'description':coerceString(_0x57d2c9[_0x333761(0xfc)+_0x333761(0x109)]||'')[_0x333761(0xf4)](),'createdAt':_0x57d2c9[_0x333761(0xcf)+_0x333761(0x10e)]||new Date()[_0x333761(0x119)+_0x333761(0x135)]()},_0x2cb90d=await fetchJson(buildDbUrl(_0x333761(0x120)+_0x333761(0xd8),_0x573e10),{'method':_0x333761(0x127),'body':JSON[_0x333761(0xf5)+_0x333761(0xdd)](_0x504b43)});return mapResource(_0x2cb90d&&_0x2cb90d[_0x333761(0x115)]?_0x2cb90d[_0x333761(0x115)]:'',_0x504b43);}async function updateResource(_0x322484,_0x393923){const _0x935831=_0x126188,_0x69ef07=coerceString(_0x322484);if(!_0x69ef07)throw new Error(_0x935831(0xe4)+_0x935831(0xd5)+_0x935831(0x12b)+'d');const _0x3acce4=await getIdToken(),_0xd8a948={..._0x393923,'updatedAt':new Date()[_0x935831(0x119)+_0x935831(0x135)]()};await fetchJson(buildDbUrl(_0x935831(0x120)+_0x935831(0x108)+_0x69ef07,_0x3acce4),{'method':_0x935831(0xfe),'body':JSON[_0x935831(0xf5)+_0x935831(0xdd)](_0xd8a948)});}async function deleteResource(_0x319fc7){const _0x1e04b8=_0x126188,_0xfa6dbc=coerceString(_0x319fc7);if(!_0xfa6dbc)throw new Error(_0x1e04b8(0xe4)+_0x1e04b8(0xd5)+_0x1e04b8(0x12b)+'d');const _0x3b1f48=await getIdToken();await fetchJson(buildDbUrl(_0x1e04b8(0x120)+_0x1e04b8(0x108)+_0xfa6dbc,_0x3b1f48),{'method':_0x1e04b8(0x11a)});}async function getUserRole(_0x4b86dd){const _0x1b0986=_0x126188,_0x577154=coerceString(_0x4b86dd);if(!_0x577154)return null;const _0x5d34ac=await getIdToken(),_0x3d45d1=await fetchJson(buildDbUrl(_0x1b0986(0xd3)+_0x1b0986(0x133)+_0x577154,_0x5d34ac),{'method':_0x1b0986(0xd9)});if(!_0x3d45d1)return null;return coerceString(_0x1b0986(0xe6)==typeof _0x3d45d1&&null!==_0x3d45d1&&_0x1b0986(0x10a)in _0x3d45d1?_0x3d45d1[_0x1b0986(0x10a)]:_0x3d45d1)[_0x1b0986(0xf4)]()[_0x1b0986(0x12c)+_0x1b0986(0x10b)]()||null;}function _0x3ff8(_0x98f6f5,_0x34141c){_0x98f6f5=_0x98f6f5-0xcf;const _0xb7cc63=_0x568f();let _0x1b42f1=_0xb7cc63[_0x98f6f5];if(_0x3ff8['IdeWAA']===undefined){var _0x7fccde=function(_0x1d625d){const _0x22cc52='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x9317e0='',_0x5c63ba='',_0x5b29dc=_0x9317e0+_0x7fccde;for(let _0x2b176a=0x0,_0x4ee1ca,_0x3797ee,_0x4a1dab=0x0;_0x3797ee=_0x1d625d['charAt'](_0x4a1dab++);~_0x3797ee&&(_0x4ee1ca=_0x2b176a%0x4?_0x4ee1ca*0x40+_0x3797ee:_0x3797ee,_0x2b176a++%0x4)?_0x9317e0+=_0x5b29dc['charCodeAt'](_0x4a1dab+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4ee1ca>>(-0x2*_0x2b176a&0x6)):_0x2b176a:0x0){_0x3797ee=_0x22cc52['indexOf'](_0x3797ee);}for(let _0x181e0c=0x0,_0x37271f=_0x9317e0['length'];_0x181e0c<_0x37271f;_0x181e0c++){_0x5c63ba+='%'+('00'+_0x9317e0['charCodeAt'](_0x181e0c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x5c63ba);};_0x3ff8['HvJyen']=_0x7fccde,_0x3ff8['Qtvchz']={},_0x3ff8['IdeWAA']=!![];}const _0x568f57=_0xb7cc63[0x0],_0x3ff809=_0x98f6f5+_0x568f57,_0x2ecb56=_0x3ff8['Qtvchz'][_0x3ff809];if(!_0x2ecb56){const _0x5129cb=function(_0x260399){this['clXqiw']=_0x260399,this['aiFpJy']=[0x1,0x0,0x0],this['AztuKQ']=function(){return'newState';},this['rfXUkL']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['MoVAKX']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x5129cb['prototype']['owswWk']=function(){const _0x50bb97=new RegExp(this['rfXUkL']+this['MoVAKX']),_0x2cb819=_0x50bb97['test'](this['AztuKQ']['toString']())?--this['aiFpJy'][0x1]:--this['aiFpJy'][0x0];return this['UJDEgw'](_0x2cb819);},_0x5129cb['prototype']['UJDEgw']=function(_0x569fc5){if(!Boolean(~_0x569fc5))return _0x569fc5;return this['jQWoZh'](this['clXqiw']);},_0x5129cb['prototype']['jQWoZh']=function(_0x2ee252){for(let _0x476c3d=0x0,_0x5cbe46=this['aiFpJy']['length'];_0x476c3d<_0x5cbe46;_0x476c3d++){this['aiFpJy']['push'](Math['round'](Math['random']())),_0x5cbe46=this['aiFpJy']['length'];}return _0x2ee252(this['aiFpJy'][0x0]);},new _0x5129cb(_0x3ff8)['owswWk'](),_0x1b42f1=_0x3ff8['HvJyen'](_0x1b42f1),_0x3ff8['Qtvchz'][_0x3ff809]=_0x1b42f1;}else _0x1b42f1=_0x2ecb56;return _0x1b42f1;}function getUsernameFromEmail(_0x170e72){const _0x4995e9=_0x126188,_0x1aec4a=coerceString(_0x170e72)[_0x4995e9(0xf4)]();if(!_0x1aec4a)return'';const _0x3178c4=_0x1aec4a[_0x4995e9(0xe3)+'f']('@');return-0x1===_0x3178c4?_0x1aec4a:_0x1aec4a[_0x4995e9(0xeb)](0x0,_0x3178c4);}async function upsertOwnUserProfile(_0x2fb0bf={}){const _0x54a0d5=_0x126188;if(!window[_0x54a0d5(0x116)+'se']||!firebase[_0x54a0d5(0xdb)])throw new Error(_0x54a0d5(0xf3)+_0x54a0d5(0x124)+_0x54a0d5(0x122)+_0x54a0d5(0x136));const _0x25632b=firebase[_0x54a0d5(0xdb)]()[_0x54a0d5(0xd0)+_0x54a0d5(0x137)];if(!_0x25632b)throw new Error(_0x54a0d5(0x138)+_0x54a0d5(0xda)+'n');const _0x3c6258=await getIdToken();if(!_0x3c6258)throw new Error(_0x54a0d5(0xe4)+_0x54a0d5(0x12d)+_0x54a0d5(0x123));const _0x51251a=_0x25632b[_0x54a0d5(0xd4)],_0x3b0736={'uid':_0x51251a,'username':getUsernameFromEmail(_0x25632b[_0x54a0d5(0xe0)]||''),'email':coerceString(_0x25632b[_0x54a0d5(0xe0)]||''),'lastLoginAt':new Date()[_0x54a0d5(0x119)+_0x54a0d5(0x135)](),..._0x2fb0bf};await fetchJson(buildDbUrl(_0x54a0d5(0x130)+_0x54a0d5(0x114)+'/'+_0x51251a,_0x3c6258),{'method':_0x54a0d5(0xfe),'body':JSON[_0x54a0d5(0xf5)+_0x54a0d5(0xdd)](_0x3b0736)});}window[_0x126188(0x116)+_0x126188(0x126)]={'listResources':listResources,'createResource':createResource,'updateResource':updateResource,'deleteResource':deleteResource,'getUserRole':getUserRole,'upsertOwnUserProfile':upsertOwnUserProfile};function _0x568f(){const _0x4eba12=['DxnLCLbY','ywLSzwqG','C2uGCMvX','BgvZlW','zMLSzvnP','DhjPBMC','Bg9HzgvK','DfvZzxi','tM90ihnP','CMvWBgfJ','y3jLyxrL','y3vYCMvU','Ahr0Chm6','DxbKyxrL','DxnLCLjV','DwLK','zYbYzxnV','lY9XDwfU','C3rVCMfN','y2vZ','r0vu','z25LzcbP','yxv0Aa','nxDkBfrcAa','Awz5','mZe1mti0uePguuLo','ANnVBG','zw1HAwW','yxbWBgLJ','kcGOlISP','Aw5KzxHp','twLZC2LU','BhL0BNDL','B2jQzwn0','zMLSDgvY','mJa5ntbHyxjjEM4','zw50CMLL','lMPZB24','C2XPy2u','B3rOzxi','ys1ZB3v0','u0vFv0vc','Aw5JBhvK','mtqXmJGXn3rNB2vABq','x0nptKzj','C2vvuKW','rMLYzwjH','DhjPBq','C3rYAw5N','yxv0Ad0','mtyZotyXmvvIEKvAta','C3rHDhvZ','rKLsrujb','yxbWBhK','zgf0ywjH','zgvZy3jP','yxbW','uefuq0G','Dgv4Da','Dg9tDhjP','DwvZDcbM','ktOG','ywjHC2uU','AgvHC3qX','mtbIDfzfB1m','C2vHCMnO','z2v0swru','y2vZlW','ChrPB24','CM9Szq','CKnHC2u','zgiUyxnP','yI1KzwzH','zef0','Dwn0B3i','oePxs0TRCG','yxnLzgf0','BwfW','BgLUAW','B2zPBgvZ','BMfTzq','zMLYzwjH','nJe2ntnJvNDzsva','nJyYmhjNrg9uwq','Dg9ju09t','revmrvrf','zMLSzu5H','yxrPB24V','kYKRksSK','vgv4Da','y2f0zwDV','CMvZB3vY','DwX0lxj0','AcbUB3qG','B2TLBG','C2uGqxv0','nJqZmJyWEMP0q0Pl','C2veyG','ue9tva','zvbHDgG','lMzPCMvI','mJm5ogzMv0jbrq','DxjJzsbP','Dg9mB3DL','zYbjrcb0','y29UC3rY','CgfYC2u'];_0x568f=function(){return _0x4eba12;};return _0x568f();}