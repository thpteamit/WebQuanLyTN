const _0x2a6b86=_0x1f0c;(function(_0x42e013,_0x223351){const _0x3eaad9=_0x1f0c,_0x1aebd0=_0x42e013();while(!![]){try{const _0x5f0a45=parseInt(_0x3eaad9(0x1db))/0x1*(parseInt(_0x3eaad9(0x213))/0x2)+-parseInt(_0x3eaad9(0x1c3))/0x3+-parseInt(_0x3eaad9(0x20e))/0x4+parseInt(_0x3eaad9(0x1fe))/0x5+parseInt(_0x3eaad9(0x1da))/0x6*(-parseInt(_0x3eaad9(0x1f6))/0x7)+-parseInt(_0x3eaad9(0x1d8))/0x8*(parseInt(_0x3eaad9(0x1ef))/0x9)+parseInt(_0x3eaad9(0x1f5))/0xa;if(_0x5f0a45===_0x223351)break;else _0x1aebd0['push'](_0x1aebd0['shift']());}catch(_0x73b7b1){_0x1aebd0['push'](_0x1aebd0['shift']());}}}(_0x399e,0xab188));const _0x27e1fe=(function(){let _0x16fbd5=!![];return function(_0x31330f,_0x2ddc47){const _0x238eaf=_0x16fbd5?function(){const _0x2219d0=_0x1f0c;if(_0x2ddc47){const _0x259577=_0x2ddc47[_0x2219d0(0x1ce)](_0x31330f,arguments);return _0x2ddc47=null,_0x259577;}}:function(){};return _0x16fbd5=![],_0x238eaf;};}()),_0x3d612d=_0x27e1fe(this,function(){const _0x556e35=_0x1f0c;return _0x3d612d[_0x556e35(0x207)+'ng']()[_0x556e35(0x202)](_0x556e35(0x203)+_0x556e35(0x1eb))[_0x556e35(0x207)+'ng']()[_0x556e35(0x215)+_0x556e35(0x1ee)](_0x3d612d)[_0x556e35(0x202)](_0x556e35(0x203)+_0x556e35(0x1eb));});_0x3d612d();const FALLBACK_DB_BASE_URL=_0x2a6b86(0x1dd)+_0x2a6b86(0x1c5)+_0x2a6b86(0x218)+_0x2a6b86(0x201)+_0x2a6b86(0x211)+_0x2a6b86(0x1de)+_0x2a6b86(0x1dc)+_0x2a6b86(0x1d2)+_0x2a6b86(0x21e)+_0x2a6b86(0x20b)+_0x2a6b86(0x1d1)+_0x2a6b86(0x1e3);function _0x1f0c(_0x5bfae1,_0xdbf43f){_0x5bfae1=_0x5bfae1-0x1b7;const _0x44343c=_0x399e();let _0x3d612d=_0x44343c[_0x5bfae1];if(_0x1f0c['MEDgoL']===undefined){var _0x27e1fe=function(_0x2537f1){const _0x26bcb6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x328564='',_0x31b4d7='',_0x301fb9=_0x328564+_0x27e1fe;for(let _0x16fbd5=0x0,_0x31330f,_0x2ddc47,_0x238eaf=0x0;_0x2ddc47=_0x2537f1['charAt'](_0x238eaf++);~_0x2ddc47&&(_0x31330f=_0x16fbd5%0x4?_0x31330f*0x40+_0x2ddc47:_0x2ddc47,_0x16fbd5++%0x4)?_0x328564+=_0x301fb9['charCodeAt'](_0x238eaf+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x31330f>>(-0x2*_0x16fbd5&0x6)):_0x16fbd5:0x0){_0x2ddc47=_0x26bcb6['indexOf'](_0x2ddc47);}for(let _0x259577=0x0,_0x1caccf=_0x328564['length'];_0x259577<_0x1caccf;_0x259577++){_0x31b4d7+='%'+('00'+_0x328564['charCodeAt'](_0x259577)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x31b4d7);};_0x1f0c['HMfovR']=_0x27e1fe,_0x1f0c['cgJRUO']={},_0x1f0c['MEDgoL']=!![];}const _0x399e38=_0x44343c[0x0],_0x1f0cab=_0x5bfae1+_0x399e38,_0x7eb715=_0x1f0c['cgJRUO'][_0x1f0cab];if(!_0x7eb715){const _0x37c86d=function(_0x1767c3){this['KTxtYe']=_0x1767c3,this['vesLSb']=[0x1,0x0,0x0],this['qseiyr']=function(){return'newState';},this['JVPcXO']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['UNgMxJ']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x37c86d['prototype']['BmTvdy']=function(){const _0x15e57e=new RegExp(this['JVPcXO']+this['UNgMxJ']),_0x482c44=_0x15e57e['test'](this['qseiyr']['toString']())?--this['vesLSb'][0x1]:--this['vesLSb'][0x0];return this['pxfgOh'](_0x482c44);},_0x37c86d['prototype']['pxfgOh']=function(_0x1e44d9){if(!Boolean(~_0x1e44d9))return _0x1e44d9;return this['svmYSr'](this['KTxtYe']);},_0x37c86d['prototype']['svmYSr']=function(_0x29c64e){for(let _0x170c63=0x0,_0x471a9a=this['vesLSb']['length'];_0x170c63<_0x471a9a;_0x170c63++){this['vesLSb']['push'](Math['round'](Math['random']())),_0x471a9a=this['vesLSb']['length'];}return _0x29c64e(this['vesLSb'][0x0]);},new _0x37c86d(_0x1f0c)['BmTvdy'](),_0x3d612d=_0x1f0c['HMfovR'](_0x3d612d),_0x1f0c['cgJRUO'][_0x1f0cab]=_0x3d612d;}else _0x3d612d=_0x7eb715;return _0x3d612d;}function normalizeBaseUrl(_0x1caccf){const _0x32a3e3=_0x2a6b86;return String(_0x1caccf||'')[_0x32a3e3(0x1fa)+'e'](/\/+$/,'');}function getDbBaseUrl(){const _0x3e3fdb=_0x2a6b86;return normalizeBaseUrl(window[_0x3e3fdb(0x1f9)+_0x3e3fdb(0x212)+_0x3e3fdb(0x1ff)+'G']&&window[_0x3e3fdb(0x1f9)+_0x3e3fdb(0x212)+_0x3e3fdb(0x1ff)+'G'][_0x3e3fdb(0x1f8)+_0x3e3fdb(0x1d9)]||FALLBACK_DB_BASE_URL);}function buildDbUrl(_0x37c86d,_0x1767c3){const _0x3c8acc=_0x2a6b86,_0x15e57e=getDbBaseUrl()+'/'+String(_0x37c86d||'')[_0x3c8acc(0x1fa)+'e'](/^\/+/,'')[_0x3c8acc(0x1fa)+'e'](/\.json$/,'')+_0x3c8acc(0x1fd);if(!_0x1767c3)return _0x15e57e;const _0x482c44=_0x15e57e[_0x3c8acc(0x1d5)+'es']('?')?'&':'?';return''+_0x15e57e+_0x482c44+_0x3c8acc(0x209)+encodeURIComponent(_0x1767c3);}async function fetchJson(_0x1e44d9,_0x29c64e){const _0x3d6ebe=_0x2a6b86,_0x170c63=await fetch(_0x1e44d9,{'headers':{'Content-Type':_0x3d6ebe(0x1e1)+_0x3d6ebe(0x219)+_0x3d6ebe(0x214)},..._0x29c64e});if(!_0x170c63['ok']){let _0x134ae5='';try{_0x134ae5=await _0x170c63[_0x3d6ebe(0x1f2)]();}catch{}throw new Error(_0x3d6ebe(0x1e7)+_0x3d6ebe(0x1f7)+_0x3d6ebe(0x1bf)+_0x3d6ebe(0x1c4)+'('+_0x170c63[_0x3d6ebe(0x1ba)]+_0x3d6ebe(0x1c6)+(_0x134ae5||_0x170c63[_0x3d6ebe(0x1ba)+_0x3d6ebe(0x1cb)]));}const _0x471a9a=await _0x170c63[_0x3d6ebe(0x1f2)]();if(!_0x471a9a)return null;try{return JSON[_0x3d6ebe(0x1e4)](_0x471a9a);}catch{return null;}}async function getIdToken(){const _0x8a2aa1=_0x2a6b86;try{if(!window[_0x8a2aa1(0x1b8)+'se']||!firebase[_0x8a2aa1(0x1ed)])return null;const _0x5df7c3=firebase[_0x8a2aa1(0x1ed)]()[_0x8a2aa1(0x1ca)+_0x8a2aa1(0x1be)];return _0x5df7c3?await _0x5df7c3[_0x8a2aa1(0x1e5)+_0x8a2aa1(0x1e2)]():null;}catch{return null;}}function coerceString(_0x484e65){return null==_0x484e65?'':String(_0x484e65);}function _0x399e(){const _0x216b8f=['y3vYCMvU','vgv4Da','BMfTzq','uefuq0G','yxbWBhK','C3rYAw5N','BgLUAW','ywjHC2uU','AgvHC3qX','DxnLCLbY','y2vZlW','Aw5JBhvK','Dg9mB3DL','zw50CMLL','mta0qK5Xt1fo','C2vvuKW','ndKYz0XozLnU','mtuWs212BfPe','ys1ZB3v0','Ahr0Chm6','zgiUyxnP','AcbUB3qG','CM9Szq','yxbWBgLJ','B2TLBG','yxbW','CgfYC2u','z2v0swru','ChrPB24','rMLYzwjH','C2veyG','zYbjrcb0','DxnLCLjV','kYKRksSK','Bg9HzgvK','yxv0Aa','Dwn0B3i','mJq2otC4zgTXrvvK','zgvZy3jP','Awz5','Dgv4Da','zef0','zYbYzxnV','mtG3nty2ntbuBhvosem','ndyYmJHpwK1Jwwq','C2uGCMvX','zgf0ywjH','rKLsrujb','CMvWBgfJ','C3rVCMfN','CKnHC2u','lMPZB24','nteYndi4nxHOCuXWvW','x0nptKzj','ue9tva','yI1KzwzH','C2vHCMnO','kcGOlISP','C2XPy2u','Aw5KzxHp','B2jQzwn0','Dg9tDhjP','BgvZlW','yxv0Ad0','BwfW','yxnLzgf0','z25LzcbP','B2zPBgvZ','mZu4mda4ogHbA2Dfsa','CMvZB3vY','twLZC2LU','DwX0lxj0','u0vFv0vc','nde4neXfuerRzW','ANnVBG','y29UC3rY','Dg9ju09t','zw1HAwW','BhL0BNDL','yxrPB24V','zMLSzvnP','C2uGqxv0','zMLSDgvY','DhjPBq','lMzPCMvI','DwLK','zMLYzwjH','DxbKyxrL','C3rHDhvZ','tM90ihnP','zvbHDgG','DhjPBMC','DfvZzxi','DwvZDcbM','revmrvrf','DxjJzsbP','r0vu','mJe2mdy1nhz6q255qW','ywLSzwqG','lY9XDwfU','ktOG','y3jLyxrL','y2vZ','zMLSzu5H'];_0x399e=function(){return _0x216b8f;};return _0x399e();}function mapResource(_0x22bedc,_0x37f8fd){const _0x4f850a=_0x2a6b86,_0x13efc3=_0x37f8fd||{};return{'id':coerceString(_0x22bedc),'name':coerceString(_0x13efc3[_0x4f850a(0x1cc)]),'link':coerceString(_0x13efc3[_0x4f850a(0x1d0)]),'storagePath':coerceString(_0x13efc3[_0x4f850a(0x1fb)+_0x4f850a(0x1bc)]||''),'fileName':coerceString(_0x13efc3[_0x4f850a(0x1c9)+'me']||''),'fileSize':Number(_0x13efc3[_0x4f850a(0x21a)+'ze']||0x0)||0x0,'description':coerceString(_0x13efc3[_0x4f850a(0x1f0)+_0x4f850a(0x1e6)]||''),'createdAt':coerceString(_0x13efc3[_0x4f850a(0x1c7)+_0x4f850a(0x1f3)]||''),'updatedAt':coerceString(_0x13efc3[_0x4f850a(0x1b9)+_0x4f850a(0x1f3)]||'')};}async function listResources(){const _0x38bbf9=_0x2a6b86,_0x3d6f70=await getIdToken(),_0x43b40c=await fetchJson(buildDbUrl(_0x38bbf9(0x20f)+_0x38bbf9(0x1c8),_0x3d6f70),{'method':_0x38bbf9(0x1c2)});return _0x43b40c?Object[_0x38bbf9(0x1d7)+'s'](_0x43b40c)[_0x38bbf9(0x20a)](([_0xcd4f5a,_0x156a8e])=>mapResource(_0xcd4f5a,_0x156a8e))[_0x38bbf9(0x21c)](_0x3aff06=>_0x3aff06[_0x38bbf9(0x1cc)]&&(_0x3aff06[_0x38bbf9(0x1fb)+_0x38bbf9(0x1bc)]||_0x3aff06[_0x38bbf9(0x1d0)])):[];}async function createResource(_0x2126e1){const _0x1829dc=_0x2a6b86,_0x1f8bcf=await getIdToken(),_0x346fe9={'name':coerceString(_0x2126e1[_0x1829dc(0x1cc)])[_0x1829dc(0x21d)](),'link':coerceString(_0x2126e1[_0x1829dc(0x1d0)])[_0x1829dc(0x21d)](),'storagePath':coerceString(_0x2126e1[_0x1829dc(0x1fb)+_0x1829dc(0x1bc)]||'')[_0x1829dc(0x21d)](),'fileName':coerceString(_0x2126e1[_0x1829dc(0x1c9)+'me']||'')[_0x1829dc(0x21d)](),'fileSize':Number(_0x2126e1[_0x1829dc(0x21a)+'ze']||0x0)||0x0,'description':coerceString(_0x2126e1[_0x1829dc(0x1f0)+_0x1829dc(0x1e6)]||'')[_0x1829dc(0x21d)](),'createdAt':_0x2126e1[_0x1829dc(0x1c7)+_0x1829dc(0x1f3)]||new Date()[_0x1829dc(0x216)+_0x1829dc(0x1bd)]()},_0xdae872=await fetchJson(buildDbUrl(_0x1829dc(0x20f)+_0x1829dc(0x1c8),_0x1f8bcf),{'method':_0x1829dc(0x200),'body':JSON[_0x1829dc(0x1cf)+_0x1829dc(0x1f1)](_0x346fe9)});return mapResource(_0xdae872&&_0xdae872[_0x1829dc(0x1cc)]?_0xdae872[_0x1829dc(0x1cc)]:'',_0x346fe9);}async function updateResource(_0x4e328c,_0x363f89){const _0x51ec4d=_0x2a6b86,_0x3a3ca0=coerceString(_0x4e328c);if(!_0x3a3ca0)throw new Error(_0x51ec4d(0x210)+_0x51ec4d(0x1f4)+_0x51ec4d(0x1c1)+'d');const _0x313611=await getIdToken(),_0xf85eeb={..._0x363f89,'updatedAt':new Date()[_0x51ec4d(0x216)+_0x51ec4d(0x1bd)]()};await fetchJson(buildDbUrl(_0x51ec4d(0x20f)+_0x51ec4d(0x1d4)+_0x3a3ca0,_0x313611),{'method':_0x51ec4d(0x1cd),'body':JSON[_0x51ec4d(0x1cf)+_0x51ec4d(0x1f1)](_0xf85eeb)});}async function deleteResource(_0x24ca6a){const _0x1bbd60=_0x2a6b86,_0x2a0aeb=coerceString(_0x24ca6a);if(!_0x2a0aeb)throw new Error(_0x1bbd60(0x210)+_0x1bbd60(0x1f4)+_0x1bbd60(0x1c1)+'d');const _0x5239c6=await getIdToken();await fetchJson(buildDbUrl(_0x1bbd60(0x20f)+_0x1bbd60(0x1d4)+_0x2a0aeb,_0x5239c6),{'method':_0x1bbd60(0x1c0)});}async function getUserRole(_0x39dd81){const _0x1e485b=_0x2a6b86,_0x36af25=coerceString(_0x39dd81);if(!_0x36af25)return null;const _0xc013f0=await getIdToken(),_0x17bdfb=await fetchJson(buildDbUrl(_0x1e485b(0x1ea)+_0x1e485b(0x208)+_0x36af25,_0xc013f0),{'method':_0x1e485b(0x1c2)});if(!_0x17bdfb)return null;return coerceString(_0x1e485b(0x206)==typeof _0x17bdfb&&null!==_0x17bdfb&&_0x1e485b(0x1e0)in _0x17bdfb?_0x17bdfb[_0x1e485b(0x1e0)]:_0x17bdfb)[_0x1e485b(0x21d)]()[_0x1e485b(0x1d6)+_0x1e485b(0x1fc)]()||null;}function getUsernameFromEmail(_0x45e6a1){const _0x10d2e6=_0x2a6b86,_0x1af4db=coerceString(_0x45e6a1)[_0x10d2e6(0x21d)]();if(!_0x1af4db)return'';const _0x1edef7=_0x1af4db[_0x10d2e6(0x205)+'f']('@');return-0x1===_0x1edef7?_0x1af4db:_0x1af4db[_0x10d2e6(0x204)](0x0,_0x1edef7);}async function upsertOwnUserProfile(_0x539288={}){const _0x25760f=_0x2a6b86;if(!window[_0x25760f(0x1b8)+'se']||!firebase[_0x25760f(0x1ed)])throw new Error(_0x25760f(0x1e7)+_0x25760f(0x21b)+_0x25760f(0x1df)+_0x25760f(0x1ec));const _0x3c1adc=firebase[_0x25760f(0x1ed)]()[_0x25760f(0x1ca)+_0x25760f(0x1be)];if(!_0x3c1adc)throw new Error(_0x25760f(0x1bb)+_0x25760f(0x20c)+'n');const _0x3257ce=await getIdToken();if(!_0x3257ce)throw new Error(_0x25760f(0x210)+_0x25760f(0x1e9)+_0x25760f(0x1e2));const _0x2aa2f7=_0x3c1adc[_0x25760f(0x1b7)],_0x5ed5eb={'uid':_0x2aa2f7,'username':getUsernameFromEmail(_0x3c1adc[_0x25760f(0x217)]||''),'email':coerceString(_0x3c1adc[_0x25760f(0x217)]||''),'lastLoginAt':new Date()[_0x25760f(0x216)+_0x25760f(0x1bd)](),..._0x539288};await fetchJson(buildDbUrl(_0x25760f(0x1d3)+_0x25760f(0x20d)+'/'+_0x2aa2f7,_0x3257ce),{'method':_0x25760f(0x1cd),'body':JSON[_0x25760f(0x1cf)+_0x25760f(0x1f1)](_0x5ed5eb)});}window[_0x2a6b86(0x1b8)+_0x2a6b86(0x1e8)]={'listResources':listResources,'createResource':createResource,'updateResource':updateResource,'deleteResource':deleteResource,'getUserRole':getUserRole,'upsertOwnUserProfile':upsertOwnUserProfile};