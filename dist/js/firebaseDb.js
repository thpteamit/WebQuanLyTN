const _0x4b0a9d=_0x1cca;(function(_0x2e24d2,_0x585b79){const _0x16419c=_0x1cca,_0x4e5b82=_0x2e24d2();while(!![]){try{const _0xc40b0d=-parseInt(_0x16419c(0x146))/0x1+-parseInt(_0x16419c(0x145))/0x2*(parseInt(_0x16419c(0x13e))/0x3)+-parseInt(_0x16419c(0x130))/0x4+parseInt(_0x16419c(0xfb))/0x5*(-parseInt(_0x16419c(0xef))/0x6)+parseInt(_0x16419c(0x115))/0x7*(-parseInt(_0x16419c(0xe8))/0x8)+-parseInt(_0x16419c(0x141))/0x9+parseInt(_0x16419c(0x13d))/0xa;if(_0xc40b0d===_0x585b79)break;else _0x4e5b82['push'](_0x4e5b82['shift']());}catch(_0x1f4f19){_0x4e5b82['push'](_0x4e5b82['shift']());}}}(_0x27f9,0xb720c));const _0x21545d=(function(){let _0x42963f=!![];return function(_0x4fdabc,_0x58aea7){const _0x111462=_0x42963f?function(){const _0x1d4dfb=_0x1cca;if(_0x58aea7){const _0x2e39e6=_0x58aea7[_0x1d4dfb(0x107)](_0x4fdabc,arguments);return _0x58aea7=null,_0x2e39e6;}}:function(){};return _0x42963f=![],_0x111462;};}()),_0x163ddb=_0x21545d(this,function(){const _0x2781b3=_0x1cca;return _0x163ddb[_0x2781b3(0x13f)+'ng']()[_0x2781b3(0xf6)](_0x2781b3(0x125)+_0x2781b3(0x13a))[_0x2781b3(0x13f)+'ng']()[_0x2781b3(0x11a)+_0x2781b3(0x137)](_0x163ddb)[_0x2781b3(0xf6)](_0x2781b3(0x125)+_0x2781b3(0x13a));});_0x163ddb();const FALLBACK_DB_BASE_URL=_0x4b0a9d(0x12e)+_0x4b0a9d(0x105)+_0x4b0a9d(0xe3)+_0x4b0a9d(0xf2)+_0x4b0a9d(0x10b)+_0x4b0a9d(0x101)+_0x4b0a9d(0x114)+_0x4b0a9d(0xe6)+_0x4b0a9d(0x138)+_0x4b0a9d(0xf9)+_0x4b0a9d(0x133)+_0x4b0a9d(0x111);function normalizeBaseUrl(_0x16b2af){const _0x5257a3=_0x4b0a9d;return String(_0x16b2af||'')[_0x5257a3(0x11d)+'e'](/\/+$/,'');}function getDbBaseUrl(){const _0x474374=_0x4b0a9d;return normalizeBaseUrl(window[_0x474374(0xe4)+_0x474374(0x112)+_0x474374(0x10d)+'G']&&window[_0x474374(0xe4)+_0x474374(0x112)+_0x474374(0x10d)+'G'][_0x474374(0xfc)+_0x474374(0x144)]||FALLBACK_DB_BASE_URL);}function buildDbUrl(_0x4c8d16,_0x174020){const _0x1d155a=_0x4b0a9d,_0x152f5b=getDbBaseUrl()+'/'+String(_0x4c8d16||'')[_0x1d155a(0x11d)+'e'](/^\/+/,'')[_0x1d155a(0x11d)+'e'](/\.json$/,'')+_0x1d155a(0xfd);if(!_0x174020)return _0x152f5b;const _0x3a009d=_0x152f5b[_0x1d155a(0x126)+'es']('?')?'&':'?';return''+_0x152f5b+_0x3a009d+_0x1d155a(0x129)+encodeURIComponent(_0x174020);}async function fetchJson(_0x4abe8a,_0x1f22bd){const _0x2df25e=_0x4b0a9d,_0x11fd3d=await fetch(_0x4abe8a,{'headers':{'Content-Type':_0x2df25e(0x123)+_0x2df25e(0xe5)+_0x2df25e(0x10c)},..._0x1f22bd});if(!_0x11fd3d['ok']){let _0x435214='';try{_0x435214=await _0x11fd3d[_0x2df25e(0x136)]();}catch{}throw new Error(_0x2df25e(0x12f)+_0x2df25e(0x116)+_0x2df25e(0x131)+_0x2df25e(0x119)+'('+_0x11fd3d[_0x2df25e(0x102)]+_0x2df25e(0x12b)+(_0x435214||_0x11fd3d[_0x2df25e(0x102)+_0x2df25e(0x143)]));}const _0x47f98a=await _0x11fd3d[_0x2df25e(0x136)]();if(!_0x47f98a)return null;try{return JSON[_0x2df25e(0xf7)](_0x47f98a);}catch{return null;}}async function getIdToken(){const _0x578429=_0x4b0a9d;try{if(!window[_0x578429(0xfe)+'se']||!firebase[_0x578429(0x13b)])return null;const _0x46ddff=firebase[_0x578429(0x13b)]()[_0x578429(0x140)+_0x578429(0x11b)];return _0x46ddff?await _0x46ddff[_0x578429(0xe7)+_0x578429(0x106)]():null;}catch{return null;}}function coerceString(_0x184bb1){return null==_0x184bb1?'':String(_0x184bb1);}function mapResource(_0x544767,_0xec340e){const _0x25ef5e=_0x4b0a9d,_0x2cc322=_0xec340e||{};return{'id':coerceString(_0x544767),'name':coerceString(_0x2cc322[_0x25ef5e(0xf0)]),'category':coerceString(_0x2cc322[_0x25ef5e(0x122)+'ry']||_0x25ef5e(0x109))[_0x25ef5e(0xee)]()[_0x25ef5e(0x113)+_0x25ef5e(0x110)]()||_0x25ef5e(0x109),'link':coerceString(_0x2cc322[_0x25ef5e(0x135)]),'storagePath':coerceString(_0x2cc322[_0x25ef5e(0x12c)+_0x25ef5e(0xdf)]||''),'fileName':coerceString(_0x2cc322[_0x25ef5e(0x11f)+'me']||''),'fileSize':Number(_0x2cc322[_0x25ef5e(0x10a)+'ze']||0x0)||0x0,'description':coerceString(_0x2cc322[_0x25ef5e(0x11c)+_0x25ef5e(0xde)]||''),'createdAt':coerceString(_0x2cc322[_0x25ef5e(0xf3)+_0x25ef5e(0x11e)]||''),'updatedAt':coerceString(_0x2cc322[_0x25ef5e(0x147)+_0x25ef5e(0x11e)]||'')};}async function listResources(){const _0x47b004=_0x4b0a9d,_0x56ab0d=await getIdToken(),_0x8217fa=await fetchJson(buildDbUrl(_0x47b004(0xe2)+_0x47b004(0x139),_0x56ab0d),{'method':_0x47b004(0x100)});return _0x8217fa?Object[_0x47b004(0x127)+'s'](_0x8217fa)[_0x47b004(0xed)](([_0x4d0970,_0x4fff4f])=>mapResource(_0x4d0970,_0x4fff4f))[_0x47b004(0xec)](_0x73ac5b=>_0x73ac5b[_0x47b004(0xf0)]&&(_0x73ac5b[_0x47b004(0x12c)+_0x47b004(0xdf)]||_0x73ac5b[_0x47b004(0x135)])):[];}async function createResource(_0x2fbe8f){const _0x38abfd=_0x4b0a9d,_0x2bd03d=await getIdToken(),_0x411e5f={'name':coerceString(_0x2fbe8f[_0x38abfd(0xf0)])[_0x38abfd(0xee)](),'category':coerceString(_0x2fbe8f[_0x38abfd(0x122)+'ry']||_0x38abfd(0x109))[_0x38abfd(0xee)]()[_0x38abfd(0x113)+_0x38abfd(0x110)]()||_0x38abfd(0x109),'link':coerceString(_0x2fbe8f[_0x38abfd(0x135)])[_0x38abfd(0xee)](),'storagePath':coerceString(_0x2fbe8f[_0x38abfd(0x12c)+_0x38abfd(0xdf)]||'')[_0x38abfd(0xee)](),'fileName':coerceString(_0x2fbe8f[_0x38abfd(0x11f)+'me']||'')[_0x38abfd(0xee)](),'fileSize':Number(_0x2fbe8f[_0x38abfd(0x10a)+'ze']||0x0)||0x0,'description':coerceString(_0x2fbe8f[_0x38abfd(0x11c)+_0x38abfd(0xde)]||'')[_0x38abfd(0xee)](),'createdAt':_0x2fbe8f[_0x38abfd(0xf3)+_0x38abfd(0x11e)]||new Date()[_0x38abfd(0x12a)+_0x38abfd(0x10f)]()},_0x552fe2=await fetchJson(buildDbUrl(_0x38abfd(0xe2)+_0x38abfd(0x139),_0x2bd03d),{'method':_0x38abfd(0x117),'body':JSON[_0x38abfd(0xf8)+_0x38abfd(0x134)](_0x411e5f)});return mapResource(_0x552fe2&&_0x552fe2[_0x38abfd(0xf0)]?_0x552fe2[_0x38abfd(0xf0)]:'',_0x411e5f);}async function updateResource(_0x288e58,_0x1409f5){const _0x1c798b=_0x4b0a9d,_0xbeaef0=coerceString(_0x288e58);if(!_0xbeaef0)throw new Error(_0x1c798b(0x120)+_0x1c798b(0xe0)+_0x1c798b(0x10e)+'d');const _0x3b61b1=await getIdToken(),_0x2b1d1f={..._0x1409f5,'updatedAt':new Date()[_0x1c798b(0x12a)+_0x1c798b(0x10f)]()};await fetchJson(buildDbUrl(_0x1c798b(0xe2)+_0x1c798b(0x121)+_0xbeaef0,_0x3b61b1),{'method':_0x1c798b(0xe9),'body':JSON[_0x1c798b(0xf8)+_0x1c798b(0x134)](_0x2b1d1f)});}async function deleteResource(_0xcfde78){const _0x5d020c=_0x4b0a9d,_0x50f385=coerceString(_0xcfde78);if(!_0x50f385)throw new Error(_0x5d020c(0x120)+_0x5d020c(0xe0)+_0x5d020c(0x10e)+'d');const _0x265210=await getIdToken();await fetchJson(buildDbUrl(_0x5d020c(0xe2)+_0x5d020c(0x121)+_0x50f385,_0x265210),{'method':_0x5d020c(0xf4)});}async function getUserRole(_0x137886){const _0x33d336=_0x4b0a9d,_0x2efec0=coerceString(_0x137886);if(!_0x2efec0)return null;const _0x56bb64=await getIdToken(),_0x555526=await fetchJson(buildDbUrl(_0x33d336(0x104)+_0x33d336(0xf1)+_0x2efec0,_0x56bb64),{'method':_0x33d336(0x100)});if(!_0x555526)return null;return coerceString(_0x33d336(0x118)==typeof _0x555526&&null!==_0x555526&&_0x33d336(0x103)in _0x555526?_0x555526[_0x33d336(0x103)]:_0x555526)[_0x33d336(0xee)]()[_0x33d336(0x113)+_0x33d336(0x110)]()||null;}function _0x1cca(_0x54b4f1,_0x4ea257){_0x54b4f1=_0x54b4f1-0xde;const _0xed9483=_0x27f9();let _0x163ddb=_0xed9483[_0x54b4f1];if(_0x1cca['EEeIkm']===undefined){var _0x21545d=function(_0x13f96a){const _0x593aae='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x499b29='',_0x48c9a7='',_0xa2ec09=_0x499b29+_0x21545d;for(let _0x42963f=0x0,_0x4fdabc,_0x58aea7,_0x111462=0x0;_0x58aea7=_0x13f96a['charAt'](_0x111462++);~_0x58aea7&&(_0x4fdabc=_0x42963f%0x4?_0x4fdabc*0x40+_0x58aea7:_0x58aea7,_0x42963f++%0x4)?_0x499b29+=_0xa2ec09['charCodeAt'](_0x111462+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x4fdabc>>(-0x2*_0x42963f&0x6)):_0x42963f:0x0){_0x58aea7=_0x593aae['indexOf'](_0x58aea7);}for(let _0x2e39e6=0x0,_0x16b2af=_0x499b29['length'];_0x2e39e6<_0x16b2af;_0x2e39e6++){_0x48c9a7+='%'+('00'+_0x499b29['charCodeAt'](_0x2e39e6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x48c9a7);};_0x1cca['OhKnuz']=_0x21545d,_0x1cca['PugedZ']={},_0x1cca['EEeIkm']=!![];}const _0x27f912=_0xed9483[0x0],_0x1ccaa2=_0x54b4f1+_0x27f912,_0x1c95a7=_0x1cca['PugedZ'][_0x1ccaa2];if(!_0x1c95a7){const _0x4c8d16=function(_0x174020){this['NlDcEY']=_0x174020,this['HXNkVt']=[0x1,0x0,0x0],this['QvBVFo']=function(){return'newState';},this['LhoAhl']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['SVyxSO']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x4c8d16['prototype']['ejyDpc']=function(){const _0x152f5b=new RegExp(this['LhoAhl']+this['SVyxSO']),_0x3a009d=_0x152f5b['test'](this['QvBVFo']['toString']())?--this['HXNkVt'][0x1]:--this['HXNkVt'][0x0];return this['qmDhhg'](_0x3a009d);},_0x4c8d16['prototype']['qmDhhg']=function(_0x4abe8a){if(!Boolean(~_0x4abe8a))return _0x4abe8a;return this['XQwrzZ'](this['NlDcEY']);},_0x4c8d16['prototype']['XQwrzZ']=function(_0x1f22bd){for(let _0x11fd3d=0x0,_0x47f98a=this['HXNkVt']['length'];_0x11fd3d<_0x47f98a;_0x11fd3d++){this['HXNkVt']['push'](Math['round'](Math['random']())),_0x47f98a=this['HXNkVt']['length'];}return _0x1f22bd(this['HXNkVt'][0x0]);},new _0x4c8d16(_0x1cca)['ejyDpc'](),_0x163ddb=_0x1cca['OhKnuz'](_0x163ddb),_0x1cca['PugedZ'][_0x1ccaa2]=_0x163ddb;}else _0x163ddb=_0x1c95a7;return _0x163ddb;}function getUsernameFromEmail(_0x2ddf20){const _0x28f51a=_0x4b0a9d,_0x235caa=coerceString(_0x2ddf20)[_0x28f51a(0xee)]();if(!_0x235caa)return'';const _0xd9b68=_0x235caa[_0x28f51a(0xf5)+'f']('@');return-0x1===_0xd9b68?_0x235caa:_0x235caa[_0x28f51a(0x13c)](0x0,_0xd9b68);}function _0x27f9(){const _0x3a8ef1=['lMPZB24','zMLYzwjH','DwLK','r0vu','zgiUyxnP','C3rHDhvZ','CM9Szq','DxnLCLjV','lY9XDwfU','B2TLBG','yxbWBhK','B2zPBgvZ','B3rOzxi','zMLSzvnP','DwX0lxj0','ANnVBG','x0nptKzj','DxjJzsbP','DhjPBMC','CKnHC2u','yxbW','u0vFv0vc','Dg9mB3DL','ys1ZB3v0','mJi1neHnu2PWqG','C2uGCMvX','ue9tva','B2jQzwn0','ywLSzwqG','y29UC3rY','DfvZzxi','zgvZy3jP','CMvWBgfJ','zef0','zMLSzu5H','twLZC2LU','y2vZlW','y2f0zwDV','yxbWBgLJ','Bg9HzgvK','kcGOlISP','Aw5JBhvK','zw50CMLL','C2veyG','yxv0Ad0','Dg9ju09t','ktOG','C3rVCMfN','DxnLCLbY','Ahr0Chm6','rMLYzwjH','ntq5odKWmgrsCLvWBG','DwvZDcbM','tM90ihnP','ywjHC2uU','Awz5','BgLUAW','Dgv4Da','Dwn0B3i','lMzPCMvI','y2vZ','kYKRksSK','yxv0Aa','C2XPy2u','ndm3ndq4nJb1vM5RDwe','ndq4nJeWn2rkrfbXrG','Dg9tDhjP','y3vYCMvU','mtGZoduZog1LrerbEq','zw1HAwW','vgv4Da','C2vvuKW','mNLYA2L0zW','mta2ntmXwgrwD1bR','DxbKyxrL','ChrPB24','zvbHDgG','zYbYzxnV','AcbUB3qG','CMvZB3vY','BhL0BNDL','rKLsrujb','yxrPB24V','AgvHC3qX','z2v0swru','mZjzs3nKDe4','uefuq0G','z25LzcbP','C2uGqxv0','zMLSDgvY','BwfW','DhjPBq','nK9utNzvyq','BMfTzq','BgvZlW','yI1KzwzH','y3jLyxrL','revmrvrf','Aw5KzxHp','C2vHCMnO','CgfYC2u','C3rYAw5N','yxnLzgf0','zYbjrcb0','mJiXmdK5nurwBgXSCG','zgf0ywjH'];_0x27f9=function(){return _0x3a8ef1;};return _0x27f9();}async function upsertOwnUserProfile(_0x2fa83e={}){const _0x1e2306=_0x4b0a9d;if(!window[_0x1e2306(0xfe)+'se']||!firebase[_0x1e2306(0x13b)])throw new Error(_0x1e2306(0x12f)+_0x1e2306(0xeb)+_0x1e2306(0xe1)+_0x1e2306(0x124));const _0x18766c=firebase[_0x1e2306(0x13b)]()[_0x1e2306(0x140)+_0x1e2306(0x11b)];if(!_0x18766c)throw new Error(_0x1e2306(0x132)+_0x1e2306(0xea)+'n');const _0x4c66c7=await getIdToken();if(!_0x4c66c7)throw new Error(_0x1e2306(0x120)+_0x1e2306(0xfa)+_0x1e2306(0x106));const _0x52fdd2=_0x18766c[_0x1e2306(0xff)],_0x1c4cf2={'uid':_0x52fdd2,'username':getUsernameFromEmail(_0x18766c[_0x1e2306(0x142)]||''),'email':coerceString(_0x18766c[_0x1e2306(0x142)]||''),'lastLoginAt':new Date()[_0x1e2306(0x12a)+_0x1e2306(0x10f)](),..._0x2fa83e};await fetchJson(buildDbUrl(_0x1e2306(0x12d)+_0x1e2306(0x108)+'/'+_0x52fdd2,_0x4c66c7),{'method':_0x1e2306(0xe9),'body':JSON[_0x1e2306(0xf8)+_0x1e2306(0x134)](_0x1c4cf2)});}window[_0x4b0a9d(0xfe)+_0x4b0a9d(0x128)]={'listResources':listResources,'createResource':createResource,'updateResource':updateResource,'deleteResource':deleteResource,'getUserRole':getUserRole,'upsertOwnUserProfile':upsertOwnUserProfile};