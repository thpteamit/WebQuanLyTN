const _0x595587=_0x3d59;(function(_0x67747d,_0x44266f){const _0x17605f=_0x3d59,_0x43c8b1=_0x67747d();while(!![]){try{const _0x5bcf62=parseInt(_0x17605f(0x15b))/0x1*(parseInt(_0x17605f(0x138))/0x2)+-parseInt(_0x17605f(0x139))/0x3*(parseInt(_0x17605f(0x11c))/0x4)+-parseInt(_0x17605f(0x157))/0x5*(parseInt(_0x17605f(0x176))/0x6)+-parseInt(_0x17605f(0x142))/0x7*(-parseInt(_0x17605f(0x14a))/0x8)+parseInt(_0x17605f(0x169))/0x9+parseInt(_0x17605f(0x121))/0xa*(-parseInt(_0x17605f(0x137))/0xb)+-parseInt(_0x17605f(0x152))/0xc;if(_0x5bcf62===_0x44266f)break;else _0x43c8b1['push'](_0x43c8b1['shift']());}catch(_0x322b57){_0x43c8b1['push'](_0x43c8b1['shift']());}}}(_0xe53e,0x949a0));const _0x4b3246=(function(){let _0xab1865=!![];return function(_0x55eb24,_0x1f3ab4){const _0x450dcd=_0xab1865?function(){const _0x1fabbc=_0x3d59;if(_0x1f3ab4){const _0x5f4576=_0x1f3ab4[_0x1fabbc(0x159)](_0x55eb24,arguments);return _0x1f3ab4=null,_0x5f4576;}}:function(){};return _0xab1865=![],_0x450dcd;};}()),_0x3d728b=_0x4b3246(this,function(){const _0x3b79bd=_0x3d59;return _0x3d728b[_0x3b79bd(0x130)+'ng']()[_0x3b79bd(0x11b)](_0x3b79bd(0x155)+_0x3b79bd(0x147))[_0x3b79bd(0x130)+'ng']()[_0x3b79bd(0x114)+_0x3b79bd(0x140)](_0x3d728b)[_0x3b79bd(0x11b)](_0x3b79bd(0x155)+_0x3b79bd(0x147));});_0x3d728b();const FALLBACK_DB_BASE_URL=_0x595587(0x173)+_0x595587(0x170)+_0x595587(0x12a)+_0x595587(0x158)+_0x595587(0x132)+_0x595587(0x133)+_0x595587(0x116)+_0x595587(0x128)+_0x595587(0x13c)+_0x595587(0x16a)+_0x595587(0x144)+_0x595587(0x13b);function normalizeBaseUrl(_0x221910){const _0x21191a=_0x595587;return String(_0x221910||'')[_0x21191a(0x161)+'e'](/\/+$/,'');}function getDbBaseUrl(){const _0x3fed2b=_0x595587;return normalizeBaseUrl(window[_0x3fed2b(0x151)+_0x3fed2b(0x127)+_0x3fed2b(0x164)+'G']&&window[_0x3fed2b(0x151)+_0x3fed2b(0x127)+_0x3fed2b(0x164)+'G'][_0x3fed2b(0x165)+_0x3fed2b(0x120)]||FALLBACK_DB_BASE_URL);}function buildDbUrl(_0x35709e,_0x30f3eb){const _0x16e7a1=_0x595587,_0x5d6cb3=getDbBaseUrl()+'/'+String(_0x35709e||'')[_0x16e7a1(0x161)+'e'](/^\/+/,'')[_0x16e7a1(0x161)+'e'](/\.json$/,'')+_0x16e7a1(0x177);if(!_0x30f3eb)return _0x5d6cb3;const _0x4a6bcf=_0x5d6cb3[_0x16e7a1(0x149)+'es']('?')?'&':'?';return''+_0x5d6cb3+_0x4a6bcf+_0x16e7a1(0x150)+encodeURIComponent(_0x30f3eb);}async function fetchJson(_0x23905a,_0x526aca){const _0x3902ff=_0x595587,_0x3144b8=await fetch(_0x23905a,{'headers':{'Content-Type':_0x3902ff(0x141)+_0x3902ff(0x14d)+_0x3902ff(0x171)},..._0x526aca});if(!_0x3144b8['ok']){let _0x56aed6='';try{_0x56aed6=await _0x3144b8[_0x3902ff(0x14e)]();}catch{}throw new Error(_0x3902ff(0x160)+_0x3902ff(0x156)+_0x3902ff(0x126)+_0x3902ff(0x129)+'('+_0x3144b8[_0x3902ff(0x12d)]+_0x3902ff(0x15e)+(_0x56aed6||_0x3144b8[_0x3902ff(0x12d)+_0x3902ff(0x14c)]));}const _0x182c3e=await _0x3144b8[_0x3902ff(0x14e)]();if(!_0x182c3e)return null;try{return JSON[_0x3902ff(0x12f)](_0x182c3e);}catch{return null;}}async function getIdToken(){const _0x41396a=_0x595587;try{if(!window[_0x41396a(0x16c)+'se']||!firebase[_0x41396a(0x119)])return null;const _0x53a5a4=firebase[_0x41396a(0x119)]()[_0x41396a(0x10e)+_0x41396a(0x112)];return _0x53a5a4?await _0x53a5a4[_0x41396a(0x131)+_0x41396a(0x117)]():null;}catch{return null;}}function coerceString(_0xd79f79){return null==_0xd79f79?'':String(_0xd79f79);}function mapResource(_0x40d880,_0x5807c7){const _0x91aa2c=_0x595587,_0x45f037=_0x5807c7||{};return{'id':coerceString(_0x40d880),'name':coerceString(_0x45f037[_0x91aa2c(0x111)]),'category':coerceString(_0x45f037[_0x91aa2c(0x174)+'ry']||_0x91aa2c(0x13d))[_0x91aa2c(0x134)]()[_0x91aa2c(0x11e)+_0x91aa2c(0x11f)]()||_0x91aa2c(0x13d),'link':coerceString(_0x45f037[_0x91aa2c(0x154)]),'storagePath':coerceString(_0x45f037[_0x91aa2c(0x12b)+_0x91aa2c(0x13f)]||''),'fileName':coerceString(_0x45f037[_0x91aa2c(0x175)+'me']||''),'fileSize':Number(_0x45f037[_0x91aa2c(0x123)+'ze']||0x0)||0x0,'description':coerceString(_0x45f037[_0x91aa2c(0x143)+_0x91aa2c(0x135)]||''),'createdAt':coerceString(_0x45f037[_0x91aa2c(0x13e)+_0x91aa2c(0x110)]||''),'updatedAt':coerceString(_0x45f037[_0x91aa2c(0x14b)+_0x91aa2c(0x110)]||'')};}async function listResources(){const _0x40b794=_0x595587,_0x5ae1cc=await getIdToken(),_0x5e71bf=await fetchJson(buildDbUrl(_0x40b794(0x10d)+_0x40b794(0x12e),_0x5ae1cc),{'method':_0x40b794(0x16b)});return _0x5e71bf?Object[_0x40b794(0x163)+'s'](_0x5e71bf)[_0x40b794(0x167)](([_0x186683,_0x59edd9])=>mapResource(_0x186683,_0x59edd9))[_0x40b794(0x15c)](_0x597835=>_0x597835[_0x40b794(0x111)]&&(_0x597835[_0x40b794(0x12b)+_0x40b794(0x13f)]||_0x597835[_0x40b794(0x154)])):[];}async function createResource(_0x10152b){const _0x55303d=_0x595587,_0x2d4c53=await getIdToken(),_0x2c4acc={'name':coerceString(_0x10152b[_0x55303d(0x111)])[_0x55303d(0x134)](),'category':coerceString(_0x10152b[_0x55303d(0x174)+'ry']||_0x55303d(0x13d))[_0x55303d(0x134)]()[_0x55303d(0x11e)+_0x55303d(0x11f)]()||_0x55303d(0x13d),'link':coerceString(_0x10152b[_0x55303d(0x154)])[_0x55303d(0x134)](),'storagePath':coerceString(_0x10152b[_0x55303d(0x12b)+_0x55303d(0x13f)]||'')[_0x55303d(0x134)](),'fileName':coerceString(_0x10152b[_0x55303d(0x175)+'me']||'')[_0x55303d(0x134)](),'fileSize':Number(_0x10152b[_0x55303d(0x123)+'ze']||0x0)||0x0,'description':coerceString(_0x10152b[_0x55303d(0x143)+_0x55303d(0x135)]||'')[_0x55303d(0x134)](),'createdAt':_0x10152b[_0x55303d(0x13e)+_0x55303d(0x110)]||new Date()[_0x55303d(0x16d)+_0x55303d(0x145)]()},_0x39f169=await fetchJson(buildDbUrl(_0x55303d(0x10d)+_0x55303d(0x12e),_0x2d4c53),{'method':_0x55303d(0x10c),'body':JSON[_0x55303d(0x136)+_0x55303d(0x115)](_0x2c4acc)});return mapResource(_0x39f169&&_0x39f169[_0x55303d(0x111)]?_0x39f169[_0x55303d(0x111)]:'',_0x2c4acc);}async function updateResource(_0x33cf88,_0x1adc57){const _0x18c2fe=_0x595587,_0x3c95c=coerceString(_0x33cf88);if(!_0x3c95c)throw new Error(_0x18c2fe(0x168)+_0x18c2fe(0x118)+_0x18c2fe(0x15d)+'d');const _0x3b2483=await getIdToken(),_0x48decc={..._0x1adc57,'updatedAt':new Date()[_0x18c2fe(0x16d)+_0x18c2fe(0x145)]()};await fetchJson(buildDbUrl(_0x18c2fe(0x10d)+_0x18c2fe(0x122)+_0x3c95c,_0x3b2483),{'method':_0x18c2fe(0x172),'body':JSON[_0x18c2fe(0x136)+_0x18c2fe(0x115)](_0x48decc)});}async function deleteResource(_0x3bf915){const _0x450ffd=_0x595587,_0x57f9d1=coerceString(_0x3bf915);if(!_0x57f9d1)throw new Error(_0x450ffd(0x168)+_0x450ffd(0x118)+_0x450ffd(0x15d)+'d');const _0x484637=await getIdToken();await fetchJson(buildDbUrl(_0x450ffd(0x10d)+_0x450ffd(0x122)+_0x57f9d1,_0x484637),{'method':_0x450ffd(0x13a)});}async function getUserRole(_0x226f4d){const _0x24f247=_0x595587,_0x13e0f5=coerceString(_0x226f4d);if(!_0x13e0f5)return null;const _0x101ac1=await getIdToken(),_0x7e020f=await fetchJson(buildDbUrl(_0x24f247(0x113)+_0x24f247(0x125)+_0x13e0f5,_0x101ac1),{'method':_0x24f247(0x16b)});if(!_0x7e020f)return null;return coerceString(_0x24f247(0x11a)==typeof _0x7e020f&&null!==_0x7e020f&&_0x24f247(0x148)in _0x7e020f?_0x7e020f[_0x24f247(0x148)]:_0x7e020f)[_0x24f247(0x134)]()[_0x24f247(0x11e)+_0x24f247(0x11f)]()||null;}function getUsernameFromEmail(_0x2b2b34){const _0x380fe=_0x595587,_0x329140=coerceString(_0x2b2b34)[_0x380fe(0x134)]();if(!_0x329140)return'';const _0x448c0c=_0x329140[_0x380fe(0x124)+'f']('@');return-0x1===_0x448c0c?_0x329140:_0x329140[_0x380fe(0x11d)](0x0,_0x448c0c);}async function upsertOwnUserProfile(_0x47f1ed={}){const _0x48cafe=_0x595587;if(!window[_0x48cafe(0x16c)+'se']||!firebase[_0x48cafe(0x119)])throw new Error(_0x48cafe(0x160)+_0x48cafe(0x146)+_0x48cafe(0x12c)+_0x48cafe(0x166));const _0x37dde9=firebase[_0x48cafe(0x119)]()[_0x48cafe(0x10e)+_0x48cafe(0x112)];if(!_0x37dde9)throw new Error(_0x48cafe(0x14f)+_0x48cafe(0x162)+'n');const _0x4d3760=await getIdToken();if(!_0x4d3760)throw new Error(_0x48cafe(0x168)+_0x48cafe(0x153)+_0x48cafe(0x117));const _0x578c83=_0x37dde9[_0x48cafe(0x16f)],_0x5ea7ee={'uid':_0x578c83,'username':getUsernameFromEmail(_0x37dde9[_0x48cafe(0x10f)]||''),'email':coerceString(_0x37dde9[_0x48cafe(0x10f)]||''),'lastLoginAt':new Date()[_0x48cafe(0x16d)+_0x48cafe(0x145)](),..._0x47f1ed};await fetchJson(buildDbUrl(_0x48cafe(0x15f)+_0x48cafe(0x16e)+'/'+_0x578c83,_0x4d3760),{'method':_0x48cafe(0x172),'body':JSON[_0x48cafe(0x136)+_0x48cafe(0x115)](_0x5ea7ee)});}function _0x3d59(_0x33dbfd,_0x56d929){_0x33dbfd=_0x33dbfd-0x10c;const _0x59ceb8=_0xe53e();let _0x3d728b=_0x59ceb8[_0x33dbfd];if(_0x3d59['fVJyRc']===undefined){var _0x4b3246=function(_0x533311){const _0x103baa='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x179c4c='',_0x1be606='',_0x530a78=_0x179c4c+_0x4b3246;for(let _0xab1865=0x0,_0x55eb24,_0x1f3ab4,_0x450dcd=0x0;_0x1f3ab4=_0x533311['charAt'](_0x450dcd++);~_0x1f3ab4&&(_0x55eb24=_0xab1865%0x4?_0x55eb24*0x40+_0x1f3ab4:_0x1f3ab4,_0xab1865++%0x4)?_0x179c4c+=_0x530a78['charCodeAt'](_0x450dcd+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x55eb24>>(-0x2*_0xab1865&0x6)):_0xab1865:0x0){_0x1f3ab4=_0x103baa['indexOf'](_0x1f3ab4);}for(let _0x5f4576=0x0,_0x221910=_0x179c4c['length'];_0x5f4576<_0x221910;_0x5f4576++){_0x1be606+='%'+('00'+_0x179c4c['charCodeAt'](_0x5f4576)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1be606);};_0x3d59['KaGebQ']=_0x4b3246,_0x3d59['fPUgcP']={},_0x3d59['fVJyRc']=!![];}const _0xe53e33=_0x59ceb8[0x0],_0x3d592d=_0x33dbfd+_0xe53e33,_0x486564=_0x3d59['fPUgcP'][_0x3d592d];if(!_0x486564){const _0x35709e=function(_0x30f3eb){this['FFYlhh']=_0x30f3eb,this['aJSioz']=[0x1,0x0,0x0],this['KwkQFr']=function(){return'newState';},this['OEbPoW']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['Qlwpvq']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x35709e['prototype']['eshkWI']=function(){const _0x5d6cb3=new RegExp(this['OEbPoW']+this['Qlwpvq']),_0x4a6bcf=_0x5d6cb3['test'](this['KwkQFr']['toString']())?--this['aJSioz'][0x1]:--this['aJSioz'][0x0];return this['RkScOY'](_0x4a6bcf);},_0x35709e['prototype']['RkScOY']=function(_0x23905a){if(!Boolean(~_0x23905a))return _0x23905a;return this['EsBICo'](this['FFYlhh']);},_0x35709e['prototype']['EsBICo']=function(_0x526aca){for(let _0x3144b8=0x0,_0x182c3e=this['aJSioz']['length'];_0x3144b8<_0x182c3e;_0x3144b8++){this['aJSioz']['push'](Math['round'](Math['random']())),_0x182c3e=this['aJSioz']['length'];}return _0x526aca(this['aJSioz'][0x0]);},new _0x35709e(_0x3d59)['eshkWI'](),_0x3d728b=_0x3d59['KaGebQ'](_0x3d728b),_0x3d59['fPUgcP'][_0x3d592d]=_0x3d728b;}else _0x3d728b=_0x486564;return _0x3d728b;}function _0xe53e(){const _0x34bbb7=['BgvZlW','DwvZDcbM','u0vFv0vc','AgvHC3qX','ywLSzwqG','BhL0BNDL','C3rVCMfN','AcbUB3qG','C3rHDhvZ','y2vZ','CgfYC2u','Dg9tDhjP','z2v0swru','DwX0lxj0','zgiUyxnP','DhjPBq','ChrPB24','C3rYAw5N','mty1t0LjuuLi','mtmXotiWnKTnAxbuva','mJG1otztDxvqC3q','revmrvrf','yxbW','lMzPCMvI','B3rOzxi','y3jLyxrL','zvbHDgG','Dwn0B3i','yxbWBgLJ','mJfKC0Xzzum','zgvZy3jP','ywjHC2uU','DhjPBMC','C2uGqxv0','kYKRksSK','CM9Szq','Aw5JBhvK','odCWmtzYELnPq3e','DxbKyxrL','vgv4Da','yxrPB24V','Dgv4Da','tM90ihnP','yxv0Ad0','rKLsrujb','mJiXmtuXnLLZzNLJvW','zYbjrcb0','BgLUAW','kcGOlISP','C2uGCMvX','nJC5nJu1ugrVvgTP','yI1KzwzH','yxbWBhK','C2veyG','murzsfrNCa','zMLSDgvY','DxjJzsbP','ktOG','DxnLCLbY','rMLYzwjH','CMvWBgfJ','z25LzcbP','zw50CMLL','x0nptKzj','zgf0ywjH','Bg9HzgvK','BwfW','twLZC2LU','ntCXmde0oxPhBwDoqG','yxnLzgf0','r0vu','zMLYzwjH','Dg9ju09t','B2zPBgvZ','DwLK','lY9XDwfU','ANnVBG','uefuq0G','Ahr0Chm6','y2f0zwDV','zMLSzu5H','nKnRChbUvW','lMPZB24','ue9tva','CMvZB3vY','y3vYCMvU','zw1HAwW','zef0','BMfTzq','DfvZzxi','DxnLCLjV','y29UC3rY','Awz5','ys1ZB3v0','B2TLBG','zYbYzxnV','yxv0Aa','B2jQzwn0','C2vHCMnO','ognlrwf1sa','C2XPy2u','Dg9mB3DL','CKnHC2u','C2vvuKW','mJuYndKWqKn0wLHl','y2vZlW','zMLSzvnP','Aw5KzxHp'];_0xe53e=function(){return _0x34bbb7;};return _0xe53e();}window[_0x595587(0x16c)+_0x595587(0x15a)]={'listResources':listResources,'createResource':createResource,'updateResource':updateResource,'deleteResource':deleteResource,'getUserRole':getUserRole,'upsertOwnUserProfile':upsertOwnUserProfile};